<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>动物家庭连连看</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #1a5f7a, #159895);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
            color: #fff;
        }
        
        .container {
            max-width: 1200px;
            width: 100%;
            text-align: center;
        }
        
        header {
            margin-bottom: 25px;
            text-align: center;
        }
        
        h1 {
            font-size: 3rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
            color: #ffd166;
            background: linear-gradient(to right, #ffd166, #ff9e00);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .subtitle {
            font-size: 1.2rem;
            color: #e0f7fa;
            max-width: 600px;
            margin: 0 auto;
        }
        
        .game-info {
            display: flex;
            justify-content: space-between;
            background: rgba(255, 255, 255, 0.15);
            padding: 15px 25px;
            border-radius: 15px;
            margin-bottom: 25px;
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.2);
            backdrop-filter: blur(10px);
        }
        
        .info-item {
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        .info-label {
            font-size: 0.9rem;
            margin-bottom: 5px;
            color: #b2ebf2;
        }
        
        .info-value {
            font-size: 1.8rem;
            font-weight: bold;
            color: #ffd166;
        }
        
        .game-area {
            display: flex;
            gap: 25px;
            margin-bottom: 25px;
        }
        
        .game-board {
            flex: 2;
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 12px;
            background: rgba(255, 255, 255, 0.1);
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.2);
            backdrop-filter: blur(5px);
        }
        
        .animal-info {
            flex: 1;
            background: rgba(255, 255, 255, 0.1);
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.2);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            backdrop-filter: blur(5px);
            min-height: 500px;
        }
        
        .animal-family-img {
            width: 100%;
            height: 200px;
            border-radius: 10px;
            margin-bottom: 20px;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            background: #0a4a5f;
        }
        
        .animal-family-img img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .animal-knowledge {
            text-align: left;
            font-size: 1rem;
            line-height: 1.6;
            color: #e0f7fa;
            margin-top: 15px;
        }
        
        .animal-name {
            font-size: 1.5rem;
            font-weight: bold;
            color: #ffd166;
            margin-bottom: 10px;
        }
        
        .card {
            aspect-ratio: 1/1;
            background: linear-gradient(145deg, #0a4a5f, #0d7a8c);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
        }
        
        .card:hover {
            transform: translateY(-5px) scale(1.03);
            box-shadow: 0 8px 15px rgba(0, 0, 0, 0.4);
        }
        
        .card.selected {
            transform: scale(0.95);
            box-shadow: 0 0 0 3px #ffd166, 0 0 15px #ffd166;
        }
        
        .card.matched {
            visibility: hidden;
            opacity: 0;
            transform: scale(0);
        }
        
        .card-content {
            width: 85%;
            height: 85%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            text-align: center;
            border-radius: 8px;
            overflow: hidden;
            background: #0a4a5f;
            position: relative;
        }
        
        .animal-image {
            width: 100%;
            height: 70%;
            object-fit: cover;
            border-top-left-radius: 8px;
            border-top-right-radius: 8px;
        }
        
        .animal-label {
            height: 30%;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 100%;
            font-size: 0.85rem;
            padding: 5px;
            background: rgba(0, 0, 0, 0.5);
        }
        
        .controls {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 25px;
        }
        
        button {
            padding: 14px 30px;
            border: none;
            border-radius: 50px;
            background: linear-gradient(to right, #ffd166, #ff9e00);
            color: #0a4a5f;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 1rem;
        }
        
        button:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
        }
        
        button:disabled {
            background: #6c757d;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        .connection-line {
            position: absolute;
            background: linear-gradient(to right, #ffd166, #ff9e00);
            z-index: 10;
            pointer-events: none;
            border-radius: 2px;
            box-shadow: 0 0 8px #ffd166;
        }
        
        .message {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(255, 255, 255, 0.95);
            color: #0a4a5f;
            padding: 25px 50px;
            border-radius: 15px;
            font-size: 1.5rem;
            font-weight: bold;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.4);
            z-index: 100;
            display: none;
            text-align: center;
            border-left: 5px solid #ffd166;
        }
        
        .progress-bar {
            width: 100%;
            height: 8px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 4px;
            margin-top: 10px;
            overflow: hidden;
        }
        
        .progress {
            height: 100%;
            background: linear-gradient(to right, #4cd964, #5ac8fa);
            width: 100%;
            transition: width 1s linear;
        }
        
        @media (max-width: 1100px) {
            .game-area {
                flex-direction: column;
            }
            
            .game-board {
                grid-template-columns: repeat(4, 1fr);
            }
        }
        
        @media (max-width: 768px) {
            .game-board {
                grid-template-columns: repeat(3, 1fr);
            }
            
            h1 {
                font-size: 2.2rem;
            }
            
            .controls {
                flex-direction: column;
                align-items: center;
            }
            
            button {
                width: 80%;
            }
        }
        
        @media (max-width: 480px) {
            .game-board {
                grid-template-columns: repeat(2, 1fr);
            }
            
            h1 {
                font-size: 1.8rem;
            }
        }
        
        .game-rules {
            flex: 1;
            background: rgba(255, 255, 255, 0.1);
            padding: 25px;
            border-radius: 15px;
            text-align: left;
            font-size: 0.9rem;
            min-height: 500px;
        }
        
        .game-rules h3 {
            color: #ffd166;
            margin-bottom: 10px;
        }
        
        .game-rules ul {
            padding-left: 20px;
        }
        
        .game-rules li {
            margin-bottom: 8px;
            line-height: 1.4;
        }
        
        .loading {
            display: flex;
            align-items: center;
            justify-content: center;
            height: 100%;
            font-size: 1.2rem;
            color: #ffd166;
        }
        
        .fallback-icon {
            font-size: 3rem;
            color: #ffd166;
        }
        
        .image-placeholder {
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            background: #0a4a5f;
            color: #ffd166;
            font-size: 2rem;
        }
        
        .image-placeholder span {
            font-size: 0.8rem;
            margin-top: 10px;
            color: #e0f7fa;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1><i class="fas fa-paw"></i> 动物家庭连连看</h1>
            <p class="subtitle">连接动物的成年与幼年形态，探索有趣的动物家庭知识！</p>
        </header>
        
        <div class="game-info">
            <div class="info-item">
                <div class="info-label"><i class="far fa-clock"></i> 剩余时间</div>
                <div class="info-value" id="timer">120</div>
                <div class="progress-bar">
                    <div class="progress" id="timeProgress"></div>
                </div>
            </div>
            <div class="info-item">
                <div class="info-label"><i class="fas fa-check-circle"></i> 已匹配</div>
                <div class="info-value" id="matched">0/6</div>
            </div>
            <div class="info-item">
                <div class="info-label"><i class="fas fa-star"></i> 得分</div>
                <div class="info-value" id="score">0</div>
            </div>
        </div>
        
        <div class="game-area">
            <div class="game-board" id="gameBoard">
                <div class="loading">正在加载图片，请稍候...</div>
            </div>
            <div class="game-rules">
                <h3><i class="fas fa-info-circle"></i> 游戏规则</h3>
                <ul>
                    <li>点击两张卡片尝试匹配成年和幼年动物</li>
                    <li>匹配成功得100分，失败扣10分</li>
                    <li>使用提示功能会扣除20分</li>
                    <li>在时间结束前匹配所有动物获胜</li>
                </ul>
            </div>
        </div>
        
        <div class="controls">
            <button id="startBtn"><i class="fas fa-play"></i> 开始游戏</button>
            <button id="resetBtn"><i class="fas fa-redo"></i> 重新开始</button>
            <button id="hintBtn"><i class="fas fa-lightbulb"></i> 提示</button>
        </div>
    </div>
    
    <div class="message" id="message"></div>

    <script>
        // 动物数据 - 成年和幼年配对
        const animalPairs = [
    { 
        name: "大象",
        adult: "https://images.pexels.com/photos/16023/elephant-animal-wildlife-africa.jpg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1", 
        baby: "https://images.pexels.com/photos/133394/elephant-animal-mammal-wildlife.jpg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1", 
        familyImg: "https://images.pexels.com/photos/247388/elephant-animal-wild-mammal.jpg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",
        knowledge: "大象是群居动物，通常由一头年长的雌象领导整个家族。小象会在母亲和家族其他成员的照顾下成长，学习生存技能。大象的孕期长达22个月，是陆地动物中最长的。",
        fallbackIcon: "🐘"
    },
    { 
        name: "狮子",
        adult: "https://images.pexels.com/photos/33045/lion-simba-grass-savannah.jpg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1", 
        baby: "https://images.pexels.com/photos/247396/lion-cub-lioness-young-animal.jpg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1", 
        familyImg: "https://images.pexels.com/photos/247402/lion-lioness-lions-pride.jpg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",
        knowledge: "狮子是唯一群居的猫科动物，一个狮群通常由几只雌狮、它们的幼崽和少数雄狮组成。幼狮在群体中受到所有雌狮的保护，雄狮主要负责保卫领地。",
        fallbackIcon: "🦁"
    },
    { 
        name: "老虎",
        adult: "https://images.pexels.com/photos/247397/tiger-animal-wildlife-zoo.jpg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1", 
        baby: "https://images.pexels.com/photos/247399/tiger-cub-tiger-cubs-cute.jpg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1", 
        familyImg: "https://images.pexels.com/photos/247401/tiger-cub-tiger-cubs-mother.jpg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",
        knowledge: "老虎是独居动物，雌虎独自抚养幼崽。幼虎会跟随母亲生活2-3年，学习捕猎技巧，之后会离开建立自己的领地。",
        fallbackIcon: "🐯"
    },
    { 
        name: "熊猫",
        adult: "https://images.pexels.com/photos/247403/panda-bear-animal-bamboo.jpg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1", 
        baby: "https://images.pexels.com/photos/247404/panda-bear-cub-baby.jpg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1", 
        familyImg: "https://images.pexels.com/photos/247405/panda-bear-family-mother.jpg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",
        knowledge: "大熊猫通常是独居动物，但在繁殖季节会短暂相聚。熊猫妈妈非常疼爱幼崽，刚出生的熊猫宝宝只有约100克重，会在母亲身边生活1.5-2年。",
        fallbackIcon: "🐼"
    },
    { 
        name: "长颈鹿",
        adult: "https://images.pexels.com/photos/247406/giraffe-animal-mammal-wildlife.jpg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1", 
        baby: "https://images.pexels.com/photos/247407/giraffe-baby-calf-young.jpg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1", 
        familyImg: "https://images.pexels.com/photos/247408/giraffe-family-group-herd.jpg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",
        knowledge: "长颈鹿会形成松散的群体，幼崽出生时就有约1.8米高。长颈鹿妈妈会轮流照看彼此的幼崽，形成'托儿所'系统，让其他母亲有时间觅食。",
        fallbackIcon: "🦒"
    },
    { 
        name: "北极熊",
        adult: "https://images.pexels.com/photos/247409/polar-bear-animal-wildlife-arctic.jpg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1", 
        baby: "https://images.pexels.com/photos/598966/polar-bear-cub-grayscale.jpg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1", 
        familyImg: "https://images.pexels.com/photos/6403048/polar-bear-family-underwater.jpg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",
        knowledge: "北极熊是独居动物，但母熊会与幼崽一起生活。幼熊会跟随母亲2-3年，学习捕猎和生存技能，之后会独立生活。",
        fallbackIcon: "🐻‍❄️"
    }
];

        // 游戏状态变量
        let gameStarted = false;
        let timer;
        let timeLeft = 120;
        let score = 0;
        let matchedPairs = 0;
        let selectedCards = [];
        let cards = [];
        let imagesLoaded = 0;
        let totalImages = animalPairs.length * 3; // 每种动物有3张图片

        // DOM元素
        const gameBoard = document.getElementById('gameBoard');
        const timerDisplay = document.getElementById('timer');
        const matchedDisplay = document.getElementById('matched');
        const scoreDisplay = document.getElementById('score');
        const startBtn = document.getElementById('startBtn');
        const resetBtn = document.getElementById('resetBtn');
        const hintBtn = document.getElementById('hintBtn');
        const message = document.getElementById('message');
        const animalFamilyImg = document.getElementById('animalFamilyImg');
        const animalFamilyTitle = document.getElementById('animalFamilyTitle');
        const animalKnowledge = document.getElementById('animalKnowledge');
        const timeProgress = document.getElementById('timeProgress');

        // 预加载图片
        function preloadImages() {
            animalPairs.forEach(pair => {
                const images = [pair.adult, pair.baby, pair.familyImg];
                images.forEach(src => {
                    const img = new Image();
                    img.src = src;
                    img.onload = () => {
                        imagesLoaded++;
                        if (imagesLoaded === totalImages) {
                            initGame();
                        }
                    };
                    img.onerror = () => {
                        console.error(`Failed to load image: ${src}`);
                        imagesLoaded++;
                        if (imagesLoaded === totalImages) {
                            initGame();
                        }
                    };
                });
            });
        }

        // 创建卡片元素
        function createCardElement(card, index) {
            const cardElement = document.createElement('div');
            cardElement.className = 'card';
            cardElement.dataset.index = index;
            cardElement.dataset.type = card.type;
            cardElement.dataset.pairId = card.pairId;
            
            const cardContent = document.createElement('div');
            cardContent.className = 'card-content';
            
            const animalImage = document.createElement('img');
            animalImage.className = 'animal-image';
            animalImage.src = card.value;
            animalImage.alt = card.type === 'adult' ? `${card.name} (成年)` : `${card.name} (幼年)`;
            
            // 添加图片加载失败处理
            animalImage.onerror = () => {
                const animal = animalPairs.find(p => p.name === card.name);
                animalImage.style.display = 'none';
                const placeholder = document.createElement('div');
                placeholder.className = 'image-placeholder';
                placeholder.innerHTML = `
                    <div class="fallback-icon">${animal.fallbackIcon}</div>
                `;
                cardContent.appendChild(placeholder);
            };
            
            const animalLabel = document.createElement('div');
            animalLabel.className = 'animal-label';
            animalLabel.textContent = card.type === 'adult' ? `${card.name} (成年)` : `${card.name} (幼年)`;
            
            cardContent.appendChild(animalImage);
            //cardContent.appendChild(animalLabel);
            cardElement.appendChild(cardContent);
            
            cardElement.addEventListener('click', () => handleCardClick(cardElement));
            
            return cardElement;
        }

        // 初始化游戏
        function initGame() {
            // 清空游戏板
            gameBoard.innerHTML = '';
            selectedCards = [];
            cards = [];
            
            // 创建卡片数组
            let cardValues = [];
            animalPairs.forEach(pair => {
                cardValues.push({ type: 'adult', value: pair.adult, name: pair.name, pairId: pair.name });
                cardValues.push({ type: 'baby', value: pair.baby, name: pair.name, pairId: pair.name });
            });
            
            // 随机排序卡片
            cardValues.sort(() => Math.random() - 0.5);
            
            // 创建卡片元素
            cardValues.forEach((card, index) => {
                const cardElement = createCardElement(card, index);
                gameBoard.appendChild(cardElement);
                cards.push(cardElement);
            });
            
            // 重置游戏状态
            timeLeft = 120;
            score = 0;
            matchedPairs = 0;
            updateDisplay();
            
            // 重置动物信息显示
            showAnimalInfo(animalPairs[0]);
        }

        // 处理卡片点击
        function handleCardClick(card) {
            if (!gameStarted || card.classList.contains('matched') || card.classList.contains('selected')) {
                return;
            }
            
            // 添加选中状态
            card.classList.add('selected');
            selectedCards.push(card);
            
            // 如果选中了两张卡片
            if (selectedCards.length === 2) {
                const card1 = selectedCards[0];
                const card2 = selectedCards[1];
                
                // 检查是否匹配
                if (card1.dataset.pairId === card2.dataset.pairId && card1.dataset.type !== card2.dataset.type) {
                    // 匹配成功
                    setTimeout(() => {
                        card1.classList.add('matched');
                        card2.classList.add('matched');
                        
                        // 绘制连接线
                        drawConnectionLine(card1, card2);
                        
                        // 更新分数和匹配数
                        score += 100;
                        matchedPairs++;
                        updateDisplay();
                        
                        // 显示动物信息
                        const matchedAnimal = animalPairs.find(pair => pair.name === card1.dataset.pairId);
                        showAnimalInfo(matchedAnimal);
                        
                        // 显示成功消息
                        showMessage(`匹配成功！${matchedAnimal.name}家庭 +100分`);
                        
                        // 检查游戏是否结束
                        if (matchedPairs === animalPairs.length) {
                            endGame(true);
                        }
                        
                        selectedCards = [];
                    }, 500);
                } else {
                    // 匹配失败
                    setTimeout(() => {
                        card1.classList.remove('selected');
                        card2.classList.remove('selected');
                        selectedCards = [];
                        
                        // 扣分
                        score = Math.max(0, score - 10);
                        updateDisplay();
                        
                        // 显示失败消息
                        showMessage('不匹配，再试一次！ -10分');
                    }, 1000);
                }
            }
        }

        // 显示动物信息
        function showAnimalInfo(animal) {
            const img = document.createElement('img');
            img.src = animal.familyImg;
            img.alt = `${animal.name}家庭`;
            img.onerror = () => {
                animalFamilyImg.innerHTML = `
                    <div class="image-placeholder">
                        <div class="fallback-icon">${animal.fallbackIcon}</div>
                        <span>${animal.name}家庭</span>
                    </div>
                `;
            };
            
            animalFamilyImg.innerHTML = '';
            animalFamilyImg.appendChild(img);
            animalFamilyTitle.textContent = `${animal.name}家庭`;
            animalKnowledge.textContent = animal.knowledge;
        }

        // 绘制连接线
        function drawConnectionLine(card1, card2) {
            const rect1 = card1.getBoundingClientRect();
            const rect2 = card2.getBoundingClientRect();
            
            const x1 = rect1.left + rect1.width / 2;
            const y1 = rect1.top + rect1.height / 2;
            const x2 = rect2.left + rect2.width / 2;
            const y2 = rect2.top + rect2.height / 2;
            
            const length = Math.sqrt(Math.pow(x2 - x1, 2) + Math.pow(y2 - y1, 2));
            const angle = Math.atan2(y2 - y1, x2 - x1) * 180 / Math.PI;
            
            const line = document.createElement('div');
            line.className = 'connection-line';
            line.style.width = `${length}px`;
            line.style.height = '4px';
            line.style.left = `${x1}px`;
            line.style.top = `${y1}px`;
            line.style.transform = `rotate(${angle}deg)`;
            line.style.transformOrigin = '0 0';
            
            document.body.appendChild(line);
            
            // 2秒后移除连接线
            setTimeout(() => {
                document.body.removeChild(line);
            }, 2000);
        }

        // 显示消息
        function showMessage(text) {
            message.textContent = text;
            message.style.display = 'block';
            
            setTimeout(() => {
                message.style.display = 'none';
            }, 1500);
        }

        // 更新显示
        function updateDisplay() {
            timerDisplay.textContent = timeLeft;
            matchedDisplay.textContent = `${matchedPairs}/${animalPairs.length}`;
            scoreDisplay.textContent = score;
            timeProgress.style.width = `${(timeLeft / 120) * 100}%`;
        }

        // 开始游戏
        function startGame() {
            if (gameStarted) return;
            
            gameStarted = true;
            startBtn.disabled = true;
            
            // 启动计时器
            timer = setInterval(() => {
                timeLeft--;
                updateDisplay();
                
                if (timeLeft <= 0) {
                    endGame(false);
                }
            }, 1000);
        }

        // 结束游戏
        function endGame(isWin) {
            clearInterval(timer);
            gameStarted = false;
            startBtn.disabled = false;
            
            if (isWin) {
                score += timeLeft * 5; // 剩余时间奖励
                updateDisplay();
                showMessage(`恭喜你赢了！最终得分: ${score}`);
            } else {
                showMessage('时间到！游戏结束');
            }
        }

        // 提示功能
        function showHint() {
            if (!gameStarted) {
                showMessage('请先开始游戏！');
                return;
            }
            
            // 找到一对未匹配的卡片
            const unmatchedCards = cards.filter(card => !card.classList.contains('matched'));
            let hintPair = null;
            
            for (let i = 0; i < unmatchedCards.length; i++) {
                for (let j = i + 1; j < unmatchedCards.length; j++) {
                    const card1 = unmatchedCards[i];
                    const card2 = unmatchedCards[j];
                    
                    if (card1.dataset.pairId === card2.dataset.pairId && card1.dataset.type !== card2.dataset.type) {
                        hintPair = [card1, card2];
                        break;
                    }
                }
                if (hintPair) break;
            }
            
            if (hintPair) {
                // 高亮提示的卡片
                hintPair[0].classList.add('selected');
                hintPair[1].classList.add('selected');
                
                // 扣分
                score = Math.max(0, score - 20);
                updateDisplay();
                
                setTimeout(() => {
                    hintPair[0].classList.remove('selected');
                    hintPair[1].classList.remove('selected');
                }, 1000);
                
                showMessage('提示已显示！ -20分');
            }
        }

        // 事件监听
        startBtn.addEventListener('click', startGame);
        resetBtn.addEventListener('click', () => {
            clearInterval(timer);
            gameStarted = false;
            startBtn.disabled = false;
            initGame();
        });
        hintBtn.addEventListener('click', showHint);

        // 预加载图片并初始化游戏
        preloadImages();
    </script>
</body>
</html>